telegram:
  token: "YOUR_TELEGRAM_BOT_TOKEN"
  whitelist_chat_ids: [123456789]

tools:
  codex:
    mode: headless
    cmd: ["codex"]
    interactive_cmd: ["codex"]
    resume_cmd: ["codex", "exec", "resume", "{resume}", "--skip-git-repo-check", "--dangerously-bypass-approvals-and-sandbox", "{prompt}"]
    image_cmd: ["--image", "{image}"]
    resume_regex: "\"thread_id\"\\s*:\\s*\"([^\"]+)\""
    help_cmd: "/status"
    auto_commands: ["/approvals full"]
    env:
      OPENAI_API_KEY: null
      OPENAI_MODEL: null
      OPENAI_BASE_URL: null
  claude:
    mode: headless
    cmd: ["claude", "--continue", "--dangerously-skip-permissions", "-p", "{prompt}", "--resume", "{resume}"]
    interactive_cmd: ["claude"]
    help_cmd: "/help"
    env:
      ANTHROPIC_API_KEY: null
  gemini:
    mode: headless
    cmd: ["gemini", "--approval-mode", "yolo", "--resume", "latest", "-p", "{prompt}"]
    interactive_cmd: ["gemini"]
    help_cmd: "/help"
    env:
      GOOGLE_API_KEY: null
  qwen:
    mode: headless
    cmd: ["qwen", "--yolo", "--continue", "--prompt", "{prompt}", "--resume", "{resume}"]
    interactive_cmd: ["qwen"]
    help_cmd: "/help"
    env:
      QWEN_API_KEY: null

defaults:
  workdir: "/Users/you/projects"
  idle_timeout_sec: 100
  summary_max_chars: 4000
  html_filename_prefix: "cli-output"
  state_path: "state.json"
  toolhelp_path: "toolhelp.json"
  openai_api_key: null
  openai_model: null
  openai_big_model: null
  openai_base_url: "https://api.openai.com"
  big_model_to_use: null
  zai_api_key: null
  tavily_api_key: null
  jina_api_key: null
  github_token: null
  log_path: "bot.log"
  image_temp_dir: ".attachments"
  image_max_mb: 10
  memory_max_kb: 32
  memory_compact_target_kb: 24
  # Manager mode (multi-agent orchestration: CLI developer + Agent reviewer)
  manager_max_tasks: 10
  manager_max_attempts: 3
  manager_decompose_timeout_sec: 600
  manager_dev_timeout_sec: 1200
  manager_review_timeout_sec: 600
  manager_dev_report_max_chars: 8000
  manager_auto_resume: true
  manager_auto_commit: true         # git commit после каждого одобренного шага плана
  manager_debug_log: true           # сохранять сырые ответы CLI/агентов в .manager/
  clarification_enabled: true
  clarification_keywords:
    - "уточни"
    - "уточните"
    - "не ясно"
    - "непонятно"
    - "какой"
    - "какая"
    - "какие"
    - "какое"
    - "сколько"
    - "когда"
    - "где"
    - "почему"
    - "зачем"

mcp:
  enabled: false
  host: "127.0.0.1"
  port: 8765
  token: null

mcp_clients: []
# MCP client connections (external servers). Transport: stdio.
# Example:
# mcp_clients:
#   - name: "filesystem"
#     enabled: true
#     transport: "stdio"
#     cmd: ["node", "/path/to/mcp-filesystem-server/index.js"]
#     cwd: null
#     env:
#       SOME_TOKEN: "${SOME_TOKEN}"
#     timeout_ms: 30000

# Optional alternative format (like Claude Desktop): mcp_servers.<name>.url
mcp_servers:
  context7:
    url: "http://127.0.0.1:8888/servers/context7/mcp"
  notebooklm:
    url: "http://127.0.0.1:8888/servers/notebooklm/mcp"
  vsegpt_image:
    url: "http://127.0.0.1:8888/servers/vsegpt_image/mcp"
  vsegpt_tts:
    url: "http://127.0.0.1:8888/servers/vsegpt_tts/mcp"
  chrome-devtools:
    url: "http://127.0.0.1:8888/servers/chrome-devtools/mcp"
  sequentialthinking-tools:
    url: "http://127.0.0.1:8888/servers/sequentialthinking-tools/mcp"

presets:
  - name: "tests"
    prompt: "Запусти тесты и дай краткий отчёт."
  - name: "lint"
    prompt: "Запусти линтер/форматтер и дай краткий отчёт."
