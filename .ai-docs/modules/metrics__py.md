# metrics

Модуль предоставляет класс `Metrics` для сбора и отслеживания различных счётчиков производительности и активности в приложении.  
Он позволяет инкрементировать счётчики по ключам, фиксировать момент и размер вывода, а также формировать текстовое представление текущих метрик.  
Все метрики сбрасываются при создании экземпляра, время жизни отсчитывается с момента инициализации.

Ключевые структуры данных  
Metrics — Класс для сбора и форматирования метрик выполнения приложения

class Metrics  
Хранит и обновляет счётчики событий, предоставляет снимок метрик в виде строки  
Поля  
counters — Словарь счётчиков по строковым ключам  
last_reset — Временная метка создания или сброса метрик  
last_output_chars — Количество символов в последнем выводе  
last_output_ts — Временная метка последнего вывода  
Методы  
__init__() — Инициализирует счётчики и устанавливает временную метку начала отсчёта  
inc(key: str, count: int = 1) — Увеличивает счётчик с заданным ключом на указанное значение  
observe_output(chars: int) — Фиксирует событие вывода с указанием количества символов  
snapshot() -> str — Возвращает форматированную строку с текущими метриками

---
__init__(self) -> None  
Инициализирует счётчики и устанавливает временную метку начала отсчёта  
Аргументы  
self — Экземпляр класса Metrics  
Возвращает  
None

---
inc(self, key: str, count: int = 1) -> None  
Увеличивает счётчик с заданным ключом на указанное значение  
Аргументы  
key — Имя счётчика  
count — Значение, на которое увеличивается счётчик (по умолчанию 1)  
Возвращает  
None

---
observe_output(self, chars: int) -> None  
Фиксирует событие вывода с указанием количества символов и увеличивает счётчик выводов  
Аргументы  
chars — Количество символов в выводе  
Возвращает  
None

---
snapshot(self) -> str  
Возвращает форматированную строку с текущими метриками в виде текстового отчёта  
Аргументы  
self — Экземпляр класса Metrics  
Возвращает  
Строка с метриками: аптайм, количество сообщений, команд, выводов, ошибок, задач в очереди и информация о последнем выводе
