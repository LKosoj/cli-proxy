# agent/__init__

Модуль предоставляет основные компоненты для запуска агента, управления инструментами и выполнения команд.  
Включает ядро агента, реестр инструментов и вспомогательные функции для работы с командами оболочки.  
Поддерживает асинхронное выполнение и ручное подтверждение команд через callback-механизм.

Ключевые структуры данных  
AgentRunner — Основной класс для запуска и управления жизненным циклом агента  
ToolRegistry — Реестр доступных инструментов, предоставляемых агенту

class AgentRunner  
Основной исполнительный контейнер для агента, управляющий его состоянием и выполнением задач  
Поля  
state — Текущее состояние агента (например, running, paused, stopped)  
tools — Экземпляр ToolRegistry с зарегистрированными инструментами  
approval_callback — Функция обратного вызова для подтверждения выполнения команд  
Методы  
start() — Запускает выполнение агента  
stop() — Останавливает выполнение агента  
is_running() — Возвращает True, если агент в состоянии выполнения

---
class ToolRegistry  
Контейнер для регистрации и управления доступными инструментами агента  
Методы  
register_tool(name, func) — Регистрирует функцию как инструмент с заданным именем  
get_tool(name) — Возвращает функцию инструмента по имени  
list_tools() — Возвращает список имен всех зарегистрированных инструментов

---
execute_shell_command(command: str) -> dict  
Выполняет команду в системной оболочке и возвращает результат  
Аргументы  
command — Команда для выполнения в виде строки  
Возвращает  
Словарь с ключами 'success' (bool), 'output' (str), 'error' (str)  
Исключения  
Может вызывать исключения, связанные с выполнением системных команд (например, OSError)

---
pop_pending_command() -> dict | None  
Извлекает и удаляет из очереди следующую ожидающую команду для подтверждения  
Возвращает  
Словарь с информацией о команде или None, если очередь пуста

---
set_approval_callback(callback: callable) -> None  
Устанавливает функцию обратного вызова для подтверждения выполнения команд  
Аргументы  
callback — Функция, которая будет вызвана для подтверждения команды. Должна принимать параметры команды и возвращать bool
