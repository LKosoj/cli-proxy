# agent/plugins/manage_message

Модуль реализует инструмент для управления последними сообщениями пользователя в текущем чате: удаление или редактирование. Позволяет исправлять опечатки, удалять спам или нежелательные сообщения. Действия ограничены только сообщениями текущего пользователя в рамках текущего диалога.

Ключевые структуры данных  
ToolSpec — Описание интерфейса инструмента, включая параметры и поведение  
ToolPlugin — Базовый класс для реализации плагинов инструментов

ManageMessageTool.get_spec() -> ToolSpec  
Возвращает спецификацию инструмента для управления сообщениями.  
Аргументы  
Возвращает  
Спецификацию инструмента, определяющую доступные действия и параметры.  
Исключения

---
ManageMessageTool.execute(args: Dict[str, Any], ctx: Dict[str, Any]) -> Dict[str, Any]  
Выполняет действие по управлению сообщением: удаление или редактирование.  
Аргументы  
args — Аргументы действия: тип операции и дополнительные параметры (index, new_text)  
ctx — Контекст выполнения: содержит chat_id, bot, context и сервисы  
Возвращает  
Результат выполнения: успех, ошибка или вывод операции  
Исключения  
Любые исключения логируются и преобразуются в словарь с ошибкой
