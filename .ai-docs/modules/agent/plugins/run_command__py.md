# agent/plugins/run_command

```markdown
Модуль реализует инструмент выполнения shell-команд в рамках безопасного окружения агента. Предоставляет возможность запуска команд через `run_command`, включая контроль рисков, проверку безопасности и управление утверждением действий пользователем. Интегрируется с системой плагинов через базовый класс `ToolPlugin` и использует вспомогательные функции из `helpers`.

Ключевые структуры данных
RunCommandTool — Плагин инструмента для безопасного выполнения shell-команд с проверкой рисков и необходимостью подтверждения

---
def get_spec() -> ToolSpec
Возвращает спецификацию инструмента, включая имя, параметры, уровень риска и ограничения.
Аргументы
Возвращает
Объект ToolSpec с описанием инструмента
Исключения

---
async def execute(self, args: Dict[str, Any], ctx: Dict[str, Any]) -> Dict[str, Any]
Выполняет shell-команду с предварительной проверкой безопасности, изоляцией рабочей директории и контролем опасных операций.
Аргументы
args — Аргументы команды, включая поле `command` с командной строкой
ctx — Контекст выполнения, содержащий рабочую директорию, идентификаторы сессии и чата, тип чата
Возвращает
Результат выполнения: успех, ошибка, требование подтверждения или статус ожидания
Исключения
Возможны исключения при выполнении shell-команды (обрабатываются в helpers.execute_shell_command)
```
