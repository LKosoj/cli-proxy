# agent/plugins/ddg_image_search

Модуль предоставляет инструмент поиска изображений и GIF-файлов через DuckDuckGo Images в виде плагина для агента. Он позволяет выполнять асинхронные запросы к DuckDuckGo через синхронный интерфейс библиотеки `duckduckgo-search`, обрабатывая результаты и возвращая случайный URL найденного изображения. Инструмент поддерживает параметры поиска: тип контента, регион и максимальное количество результатов.

Ключевые структуры данных  
DDGImageSearchTool — Плагин инструмента для выполнения поиска изображений в DuckDuckGo

class DDGImageSearchTool  
Плагин инструмента для поиска изображений в DuckDuckGo

Методы  
DDGImageSearchTool.get_source_name()  
Возвращает название источника данных.  
Возвращает  
Название источника — "DuckDuckGo Images"

---  
DDGImageSearchTool.get_spec()  
Возвращает спецификацию инструмента поиска изображений.  
Возвращает  
Объект ToolSpec с описанием параметров и поведения инструмента

---  
async DDGImageSearchTool.execute(args: dict, ctx: Optional[Any] = None)  
Асинхронно выполняет поиск изображений по заданным параметрам.  
Аргументы  
args — Словарь с параметрами поиска: query (обязательный), type, region, max_results  
ctx — Контекст выполнения (не используется)  
Возвращает  
Словарь с результатом: success, error или output (URL изображения или сообщение)  
Исключения  
Любое исключение преобразуется во внутреннюю ошибку инструмента

---  
DDGImageSearchTool._search_sync(query: str, region: str = "wt-wt", image_type: Optional[str] = None, max_results: int = 10)  
Синхронный метод поиска изображений через duckduckgo-search.  
Аргументы  
query — Поисковый запрос  
region — Регион поиска (например, "wt-wt")  
image_type — Тип изображения: "photo" или "gif"  
max_results — Максимальное количество результатов (от 1 до 30)  
Возвращает  
Список найденных изображений с метаданными (включая URL)  
Исключения  
RuntimeError — Если не установлен пакет 'duckduckgo-search'
