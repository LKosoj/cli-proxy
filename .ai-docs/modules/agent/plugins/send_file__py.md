# agent/plugins/send_file

SendFileTool — это плагин инструмента, позволяющий отправлять файлы из рабочей области в чат. Он проверяет путь к файлу, разрешён ли доступ к нему, его размер и чувствительность (например, блокирует отправку файлов с ключами или учётными данными). Инструмент используется для безопасного обмена файлами между агентом и пользователем через бота.

Ключевые структуры данных  
ToolSpec — Описание интерфейса инструмента, включая имя, параметры и ограничения  
Dict[str, Any] — Структура аргументов и контекста, передаваемых в execute

get_spec(self) -> ToolSpec  
Возвращает спецификацию инструмента send_file.  
Возвращает  
Объект ToolSpec с описанием инструмента, его параметрами и ограничениями

---
async execute(self, args: Dict[str, Any], ctx: Dict[str, Any]) -> Dict[str, Any]  
Выполняет отправку файла в чат с проверкой безопасности, существования и размера файла.  
Аргументы  
args — Аргументы, содержащие путь к файлу и необязательный заголовок  
ctx — Контекст выполнения, включающий cwd, бота, chat_id и другие данные  
Возвращает  
Словарь с результатом операции: успех, ошибка или сообщение об отправке  
Исключения  
Любое исключение при отправке файла перехватывается и преобразуется в словарь с описанием ошибки
