# agent/plugins/search_text

```markdown
Модуль реализует инструмент поиска текста или регулярных выражений в файлах с использованием `grep` через плагин `ToolPlugin`.  
Поиск выполняется в указанной директории или файле с поддержкой контекста, нечувствительности к регистру и фильтрации по типам файлов.  
Запрещены запросы, связанные с поиском секретов (пароли, токены и т.п.) во избежание утечек.  
Результат ограничен 200 строками и защищён таймаутом выполнения.

Ключевые структуры данных
SearchTextTool — Плагин инструмента для поиска текста/кода в файлах с использованием grep

---
def get_spec() -> ToolSpec
Возвращает спецификацию инструмента поиска текста.
Возвращает
Объект ToolSpec с описанием параметров и поведения инструмента

---
async def execute(self, args: Dict[str, Any], ctx: Dict[str, Any]) -> Dict[str, Any]
Выполняет поиск текста по заданному шаблону в файлах с помощью grep.
Аргументы
args — Аргументы поиска: шаблон, путь, контекст, режимы поиска
ctx — Контекст выполнения, включая рабочую директорию
Возвращает
Результат выполнения: успех, вывод или сообщение об ошибке
Исключения
Любые исключения логируются, но не прерывают выполнение — возвращается штатный ответ с "no matches"
```
