# agent/plugins/prompt_perfect

Модуль реализует инструмент оптимизации пользовательских промптов с помощью модели OpenAI. Он интегрируется в систему плагинов инструментов агента и предоставляет возможность улучшения формулировки запроса для повышения точности и качества ответов модели. Плагин использует асинхронный клиент OpenAI и поддерживает конфигурирование через переменные окружения или настройки.

Ключевые структуры данных  
PromptPerfectTool — Плагин инструмента для оптимизации промптов с использованием модели OpenAI

---
async def execute(self, args: Dict[str, Any], ctx: Dict[str, Any]) -> Dict[str, Any]  
Выполняет оптимизацию промпта с использованием модели OpenAI.  
Аргументы  
args — Аргументы выполнения, включая исходный промпт и опциональный контекст  
ctx — Контекст выполнения, не используется напрямую  
Возвращает  
Словарь с результатом выполнения: успех, оптимизированный промпт или сообщение об ошибке  
Исключения  
Любые исключения, возникающие при вызове API, логируются и возвращаются как ошибка выполнения

---
class ToolSpec  
Описывает спецификацию инструмента, включая имя, параметры и поведение.  
Поля  
name — Имя инструмента  
description — Описание назначения инструмента  
parameters — Схема параметров в формате JSON Schema  
parallelizable — Флаг, указывающий, можно ли выполнять инструмент параллельно  
timeout_ms — Максимальное время выполнения в миллисекундах  
Методы  
(нет публичных методов в данном контексте) — Спецификация используется как DTO

---
def get_spec(self) -> ToolSpec  
Возвращает спецификацию инструмента оптимизации промптов.  
Возвращает  
Объект ToolSpec с описанием параметров и поведения инструмента

---
def get_source_name(self) -> str  
Возвращает отображаемое имя источника инструмента.  
Возвращает  
Строку "Prompt Perfect" как имя источника
