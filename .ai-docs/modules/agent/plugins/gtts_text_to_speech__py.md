# agent/plugins/gtts_text_to_speech

Модуль реализует инструмент преобразования текста в речь с использованием Google Text-to-Speech (gTTS) через плагин `ToolPlugin`.  
Позволяет асинхронно генерировать аудиофайлы в формате MP3 из текста на заданном языке и возвращает путь к сохранённому файлу.  
Файлы сохраняются во временной директории в подкаталоге `tts`.  
Инструмент интегрируется в систему исполнения через спецификацию `ToolSpec`.

Ключевые структуры данных  
GTTSTextToSpeechTool — Плагин инструмента для генерации речи из текста с использованием gTTS

---
GTTSTextToSpeechTool.get_source_name() -> str  
Возвращает имя источника инструмента — "gTTS"  
Возвращает  
Имя источника инструмента

---
GTTSTextToSpeechTool.get_spec() -> ToolSpec  
Возвращает спецификацию инструмента, включая параметры и описание  
Возвращает  
Объект ToolSpec с описанием инструмента

---
GTTSTextToSpeechTool.execute(args: Dict[str, Any], ctx: Dict[str, Any]) -> Dict[str, Any]  
Асинхронно выполняет генерацию речи из текста с помощью gTTS  
Аргументы  
args — Аргументы: текст и опциональный язык (lang)  
ctx — Контекст выполнения (не используется)  
Возвращает  
Словарь с результатом: success, output (путь к файлу) или error  
Исключения  
Любое исключение преобразуется в словарь с success=False и сообщением об ошибке

---
GTTSTextToSpeechTool._tts_sync(text: str, lang: str) -> str  
Синхронно генерирует аудиофайл из текста с помощью gTTS и сохраняет его на диск  
Аргументы  
text — Текст для преобразования в речь  
lang — Языковой код (например, 'ru', 'en')  
Возвращает  
Полный путь к сохранённому MP3-файлу  
Исключения  
RuntimeError — Если пакет gTTS не установлен или произошла ошибка при генерации
