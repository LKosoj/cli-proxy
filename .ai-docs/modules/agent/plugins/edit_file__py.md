# agent/plugins/edit_file

EditFileTool — это плагин инструмента, позволяющий редактировать файлы в рабочей области путём точной замены текста. Он обеспечивает безопасность, проверяя путь к файлу, тип файла, символические ссылки и содержимое на наличие опасного кода. Редактирование выполняется только при точном совпадении заменяемого текста и при соблюдении всех правил безопасности.

Ключевые структуры данных  
ToolSpec — Описание интерфейса инструмента, включая имя, описание и параметры.

---
def get_spec(self) -> ToolSpec  
Возвращает спецификацию инструмента для редактирования файла.  
Аргументы  
Возвращает  
Объект ToolSpec с именем, описанием и схемой параметров инструмента.  
Исключения

---
async def execute(self, args: Dict[str, Any], ctx: Dict[str, Any]) -> Dict[str, Any]  
Выполняет операцию редактирования файла: находит файл, проверяет безопасность, заменяет текст.  
Аргументы  
args — Аргументы операции: путь, старый текст, новый текст  
ctx — Контекст выполнения, включая рабочую директорию (cwd)  
Возвращает  
Словарь с результатом операции: успех/ошибка и сообщение  
Исключения  
Любые исключения при работе с файловой системой перехватываются и возвращаются как ошибка выполнения
