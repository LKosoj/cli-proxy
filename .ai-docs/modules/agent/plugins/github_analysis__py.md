# agent/plugins/github_analysis

```markdown
Модуль предоставляет инструмент для асинхронного получения содержимого файлов из публичных или приватных репозиториев GitHub по указанному пути. Поддерживает загрузку одного файла, списка файлов из директории, с ограничением на максимальное количество возвращаемых файлов. Аутентификация осуществляется через токен GitHub, передаваемый через переменную окружения или конфигурацию. Результат включает имена файлов и их содержимое в текстовом виде.

Ключевые структуры данных
GitHubAnalysisTool — Основной класс инструмента, реализующий интерфейс ToolPlugin для анализа репозиториев GitHub

---
async def execute(self, args: Dict[str, Any], ctx: Dict[str, Any]) -> Dict[str, Any]
Выполняет асинхронную загрузку содержимого файлов из репозитория GitHub.
Аргументы
args — Аргументы выполнения: owner, repo, path (опционально), max_files (опционально)
ctx — Контекст выполнения (не используется напрямую)
Возвращает
Словарь с ключами "success", "output" (при успехе) или "error" (при ошибке)
Исключения
Любые исключения перехватываются и возвращаются как часть результата с success=False

---
def _fetch_sync(self, owner: str, repo: str, path: str, max_files: int, token: Optional[str]) -> str
Синхронно извлекает содержимое файлов из репозитория GitHub по заданным параметрам.
Аргументы
owner — Владелец репозитория на GitHub
repo — Название репозитория
path — Путь к файлу или директории внутри репозитория (может быть пустым)
max_files — Максимальное количество файлов для извлечения (ограничено от 1 до 20)
token — Токен доступа GitHub (опционально, для доступа к приватным репозиториям)
Возвращает
Текстовое содержимое файлов с указанием имён, разделённое пустыми строками, или сообщение об отсутствии файлов
Исключения
RuntimeError — При ошибке HTTP-запроса к API GitHub

---
class GitHubAnalysisTool
Инструмент для извлечения содержимого файлов из репозиториев GitHub.
Поля
— 
Методы
get_source_name() -> str — Возвращает имя источника данных: "GitHub"
get_spec() -> ToolSpec — Возвращает спецификацию инструмента, включая параметры и ограничения
execute(args: Dict[str, Any], ctx: Dict[str, Any]) -> Dict[str, Any] — Асинхронно выполняет анализ репозитория по заданным параметрам
```
