# agent/dispatcher

Диспетчер отвечает за выбор профиля исполнителя для каждого шага плана. На текущий момент поддерживается только один профиль по умолчанию, но архитектура позволяет расширить логику выбора в будущем. Инициализируется с конфигурацией и реестром инструментов.

Ключевые структуры данных  
Dispatcher — Основной класс, управляющий сопоставлением шагов плана с профилями исполнителей

---
class Dispatcher  
Управляет сопоставлением шагов плана с профилями исполнителей  
Поля  
_config — Конфигурация приложения типа AppConfig  
_tool_registry — Реестр доступных инструментов типа ToolRegistry  
_profiles — Словарь профилей исполнителей, индексируемых по имени; содержит как минимум профиль "default"  
Методы  
__init__(self, config: AppConfig, tool_registry: ToolRegistry) — Инициализирует диспетчер, создаёт профиль по умолчанию  
get_profile(self, step: PlanStep) -> ExecutorProfile — Возвращает подходящий профиль исполнителя для заданного шага плана

---
__init__(self, config: AppConfig, tool_registry: ToolRegistry)  
Инициализирует диспетчер с конфигурацией и реестром инструментов  
Аргументы  
config — Конфигурация приложения  
tool_registry — Реестр инструментов, используемых в системе  
Возвращает  
None

---
get_profile(self, step: PlanStep) -> ExecutorProfile  
Возвращает профиль исполнителя для заданного шага плана (пока всегда возвращает профиль по умолчанию)  
Аргументы  
step — Шаг плана, для которого требуется выбрать профиль  
Возвращает  
Объект профиля исполнителя типа ExecutorProfile
