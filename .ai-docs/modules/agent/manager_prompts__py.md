# agent/manager_prompts

Модуль предоставляет инструменты для декомпозиции пользовательской цели в последовательность атомарных задач, их выполнения и последующего ревью. Основан на шаблонах системных инструкций для LLM, ориентированных на автономную работу в режиме менеджера, разработчика и ревьюера. Поддерживает строгий JSON-формат обмена данными между этапами и автоматическую нормализацию неструктурированного вывода ИИ.

Ключевые структуры данных  
Task — Описание атомарной задачи с заголовком, описанием, критериями приёмки и зависимостями  
ProjectAnalysis — Анализ текущего состояния проекта: что сделано, что осталось  
TaskPlan — Полный план задач, включающий анализ проекта и список задач

---
std::string DECOMPOSE_INSTRUCTION(const std::string& user_goal, int max_tasks)  
Шаблон системного промпта для анализа проекта и декомпозиции цели пользователя на атомарные задачи  
Аргументы  
user_goal — Цель пользователя, которую необходимо реализовать  
max_tasks — Максимальное количество задач в плане  
Возвращает  
Строка с промптом, содержащим инструкции по анализу и декомпозиции в строгом JSON-формате  
Исключения  
Нет ожидаемых исключений

---
std::string DECOMPOSE_NORMALIZE_SYSTEM()  
Системный промпт для нормализации неструктурированного вывода ИИ в валидный JSON-план задач  
Возвращает  
Строка с инструкцией по извлечению и структурированию данных задач из текста в JSON  
Исключения  
Нет ожидаемых исключений

---
std::string DEV_INSTRUCTION_TEMPLATE(const std::string& task_title, const std::string& task_description, const std::string& task_acceptance, const std::string& rejection_block, const std::string& project_context, const std::string& already_done, const std::string& completed_tasks_summary)  
Шаблон промпта для выполнения разработчиком конкретной задачи  
Аргументы  
task_title — Название задачи  
task_description — Подробное ТЗ  
task_acceptance — Критерии приёмки  
rejection_block — Блок с информацией о предыдущих провалах (если есть)  
project_context — Общее состояние проекта  
already_done — Что уже реализовано  
completed_tasks_summary — Краткое описание ранее выполненных задач  
Возвращает  
Строка с инструкцией для агента-разработчика  
Исключения  
Нет ожидаемых исключений

---
std::string REVIEW_INSTRUCTION_TEMPLATE(const std::string& task_title, const std::string& task_description, const std::string& task_acceptance, const std::string& dev_report)  
Шаблон промпта для проверки выполнения задачи агентом-ревьюером  
Аргументы  
task_title — Название задачи  
task_description — Описание задачи (ТЗ)  
task_acceptance — Критерии приёмки  
dev_report — Отчёт разработчика о внесённых изменениях  
Возвращает  
Строка с инструкцией для агента-ревьюера по проверке корректности реализации  
Исключения  
Нет ожидаемых исключений
