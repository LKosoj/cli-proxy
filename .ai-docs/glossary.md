# Глоссарий

## Агент (Agent)
Автономный компонент, использующий LLM для выполнения задач по принципу ReAct (Reasoning + Action). Работает в изолированной песочнице, вызывает инструменты, управляет памятью и чат-историей. Активируется командой `/agent`.

## Активная сессия
Сессия, с которой в данный момент взаимодействует пользователь. Управление осуществляется через `/use`, `/sessions`. Данные хранятся в `state.json` под ключом `_active`.

## CLI-агент
Внешний инструмент (Codex, Gemini, Claude, Qwen), запускаемый в headless- или интерактивном режиме. Управляется через сессии, поддерживает `resume`-токены и собственные команды.

## Git-операции
Интерактивные действия с репозиторием: `status`, `pull`, `commit`, `merge`, `rebase`, `push`. Выполняются через `/git` с поддержкой разрешения конфликтов.

## MCP (Model Control Protocol)
Протокол для интеграции внешних инструментов. Поддерживает транспорты `stdio` и `http`. Сервер запускается при `mcp.enabled: true`, клиенты подключаются через `mcp_clients`.

## MCP-инструмент
Функция, доступная через MCP-сервер. Регистрируется в `ToolRegistry`, вызывается агентом. Пример: `context7`, `notebooklm`.

## Очередь команд
Механизм управления выполнением запросов. Предотвращает перегрузку сессии. Просмотр — `/queue`, очистка — `/clearqueue`.

## Песочница (Sandbox)
Изолированная рабочая среда агента. Располагается в `workdir/sandbox`. Ограничивает доступ к файловой системе и системным ресурсам.

## Плагин (Plugin)
Расширение функциональности через `ToolPlugin`. Автоматически загружается из директории `plugins/`. Поддерживает диалоги, команды и UI.

## Пресет (Preset)
Шаблон задачи с предустановленным промптом. Настраивается в `config.yaml` в секции `presets`. Запускается через `/preset`.

## Сессия
Контекст выполнения CLI-агента. Характеризуется инструментом, рабочей директорией, `resume`-токеном. Управляется через `/new`, `/sessions`, `/close`.

## Состояние сессии
Данные о сессии, сохраняемые в `state.json`. Включает `tool`, `workdir`, `resume_token`, `description`, `updated_at`. Ключ формируется как `{tool}::{workdir}`.

## Токен возобновления (Resume Token)
Идентификатор сессии CLI-агента (например, `thread_id`, `conversation_id`), позволяющий восстановить контекст после перезапуска.

## ToolRegistry
Центральный реестр инструментов. Управляет локальными плагинами и MCP-инструментами. Обеспечивает выполнение, валидацию и фильтрацию по `allowed_tools`.

## UI-действие
Callback-запрос от inline-кнопки. Формат: `action:key:values`. Обрабатывается `SessionUI`, `GitOps`, `DialogMixin`.

## Веб-поиск
Интеграция с внешними сервисами: Tavily, Jina, Z.AI. Используется для получения актуальной информации. Требует API-ключей в окружении.

## Файл памяти (MEMORY.md)
Текстовый файл в формате Markdown для хранения долговременной памяти агента. Располагается в `_sandbox/`. Управляется через `MemoryTool`.
